<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Transaction</title>
<script nonce="<%= nonce %>" src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-tr font-[Play] from-yellow-100 via-pink-100 to-purple-100 min-h-screen flex items-center justify-center px-4">
<a href="/" class="inline-block absolute top-4 left-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">
  ← Back to Home
</a>
  <div class="bg-white shadow-xl rounded-2xl p-8 max-w-md w-full text-center">
    <h2 class="text-3xl font-bold text-purple-600 mb-6">➕ Add Transaction</h2>

<form action="/add" method="POST" class="space-y-4">
  <!-- Type Selector -->
  <select name="type" id="type" required
    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400">
    <option value="">Select Type</option>
    <option value="income">Income</option>
    <option value="expense">Expense</option>
  </select>

  <!-- Amount Input -->
  <input type="number" name="amount" placeholder="Amount" required
    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400" />

  <!-- Category Selector -->
  <select name="category" id="category" required
    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400">
    <option value="">Select Category</option>
  </select>

  <!-- Submit Button -->
  <button type="submit"
    class="w-full bg-green-500 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-green-600 transition">
    Add Transaction
  </button>
</form>

<!-- JS for dynamic categories -->
<script>
  const typeSelect = document.getElementById("type");
  const categorySelect = document.getElementById("category");

  const categories = {
    income: ["Salary", "Gift", "Bonus", "Overtime", "Others"],
    expense: ["Electronics", "Furniture", "Decorations", "Cloths", "Car", "Bike", "Others"]
  };

  typeSelect.addEventListener("change", () => {
    const selectedType = typeSelect.value;
    categorySelect.innerHTML = '<option value="">Select Category</option>'; // reset options

    if (categories[selectedType]) {
      categories[selectedType].forEach(cat => {
        const option = document.createElement("option");
        option.value = cat.toLowerCase();
        option.textContent = cat;
        categorySelect.appendChild(option);
      });
    }
  });
</script>


    <a href="/dashboard"
      class="inline-block mt-6 text-blue-600 hover:underline hover:text-blue-800 transition">
      ⬅ Back to Dashboard
    </a>
  </div>

</body>
</html>
